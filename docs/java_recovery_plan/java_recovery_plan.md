# Java実装スピード改善リカバリープラン

「どう書けばいいか分からない」時間を減らし、納期遅延をなくすための具体的アクションプランです。
目標は **「悩む時間」を「作業する時間」に変える** ことです。

## 1. 原因の分析：なぜ手が止まるのか？
Aタイプ（ロジック構築で止まる）の主な原因は、**「自分の中に『実装の型（パターン）』のストックが足りない」** ことにあります。
毎回ゼロから「どうしようかな」と考えてしまっているため、時間がかかります。

ベテランは、要件を聞いた瞬間に「あ、あのパターンね（Controllerで受けて、ServiceでDB検索して、なければException投げるやつ）」と脳内のテンプレートを呼び出しているだけです。

## 2. 改善アクション：3つのステップ

### Step 1: 「自分専用スニペット集」を作る（即効性：高）
毎回ググったり、過去のコードを探し回る時間をゼロにします。
NotionやObsidian、またはIDEのUser Snippetに、以下の「鉄板パターン」を登録してください。

- **Controllerの基本形**: `@GetMapping`, `@PostMapping` とバリデーション (`@Valid`)
- **Serviceの基本形**: トランザクション (`@Transactional`)、例外処理
- **Repositoryの基本形**: `Optional` の扱い、JPQLの書き方
- **Stream APIの基本形**: `filter`, `map`, `collect` のよくある変換

**ルール**: 「2回調べたらスニペットに登録する」。

### Step 2: 「インターフェースから書く」（思考の整理）
実装（中身）から書き始めると、詳細にハマって手が止まります。
**「外側（何を受け取って、何を返すか）」** だけを先に全部書いてしまいましょう。

1. **Controller**: 引数と戻り値だけ書く（中身は `return null;`）。
2. **Service**: メソッド名と引数、戻り値だけ定義する。
3. **つなぐ**: ControllerからServiceを呼ぶコードを書く。

これだけで「コンパイルが通る状態」になります。あとは中身を埋めるだけなので、心理的ハードルが下がります。

### Step 3: 生成AIを「ペアプロ相手」にする（AI開発ではなく、活用）
生成AIアプリを作るのではなく、今の実装を助けるために AIを使います。

- **ボイラープレート作成**: 「ユーザー登録機能のControllerとServiceの雛形を作って。バリデーション付きで」と投げる。
- **ロジック相談**: 「Listから、特定の条件（年齢20以上）でフィルタリングして、名前のリストに変換したい。Stream APIでどう書く？」と聞く。

**重要**: AIに書かせたコードは必ず一行ずつ読んで理解すること。これが「パターンの学習」になります。

## 3. 学習ロードマップ（1ヶ月集中プログラム）
「何をやればいいか」で迷わないよう、日ごとのタスクに落とし込みました。
この1ヶ月は、新しい技術（AWS/AI）は一旦封印し、これだけに集中してください。

### Week 1: 「迷わない」ための型作り（スニペット構築）
**目標**：基本的なCRUD処理を、ドキュメントを見ずに（またはスニペットから一瞬で）書けるようにする。

- **Day 1: Controllerの鉄板パターン**
    - `@RestController`, `@RequestMapping`, `@RequiredArgsConstructor` のセット。
    - GET/POST/PUT/DELETE のメソッド定義と、`ResponseEntity<T>` の返し方。
    - `@Valid` と `@RequestBody` を使ったバリデーション。
    - **課題**: ユーザー登録APIのガワ（中身は空）を3分で書く練習×5回。
- **Day 2: Service & Repositoryの鉄板パターン**
    - `@Service`, `@Transactional(readOnly = true)` の使い分け。
    - `findById` して `orElseThrow` で例外を投げるパターン（これだけで全体の3割はカバーできます）。
    - DTO (Recordクラス) と Entity の変換ロジック。
- **Day 3: 例外ハンドリングの型**
    - `@RestControllerAdvice` と `@ExceptionHandler` を使った統一的なエラーレスポンス。
    - 自作Exception (`ResourceNotFoundException` など) の作成。
- **Day 4-5: 統合演習（CRUDタイムアタック）**
    - 「ユーザー管理システム（一覧、詳細、登録、更新、削除）」をゼロから作る。
    - **目標タイム**: 1時間以内。
    - 詰まったらその部分をスニペットに登録し、最初からやり直す。

### Week 2: 「ロジックで止まらない」ための脳筋トレ（Stream API）
**目標**：for文とif文のネスト地獄から脱出し、宣言的にロジックを書けるようにする。

- **Day 1: フィルタリングと変換 (filter, map)**
    - List から「20歳以上」を抜き出し、「氏名リスト」に変換する。
- **Day 2: 集計とグループ化 (collect)**
    - `Collectors.toList()`, `toSet()` の基本。
    - `Collectors.groupingBy()` で部署ごとのユーザーリストを作る（これが即答できると強い）。
- **Day 3: マッチングと検索 (anyMatch, findFirst)**
    - 条件に合うものが1つでもあるか？ 最初に見つかったものは？
- **Day 4: Optionalの正しい使い方**
    - `if (opt.isPresent())` は極力使わない。
    - `map`, `orElse`, `orElseGet`, `orElseThrow` だけで処理を完結させる練習。
- **Day 5-7: Stream API 100本ノック**
    - ChatGPTに「JavaのStream APIの練習問題を10問出して。難易度は徐々に上げて」と指示し、ひたすら解く。

### Week 3: 「手戻りをなくす」ための設計思考（インターフェースファースト）
**目標**：実装中に「あ、これ足りない」と気づいて修正する時間をゼロにする。

- **Day 1-3: 偽装クラス（Mock）プログラミング**
    - 中身を一切書かず、メソッド名と引数・戻り値（シグネチャ）だけを全クラス分書く練習。
    - IDEの自動補完だけでコードがつながる快感を覚える。
- **Day 4-5: テスト駆動の真似事**
    - 実装を書く前に、JUnitで「このメソッドはどう使われるべきか」を書く。
    - テストがコンパイルエラーにならないようにメソッドを定義する。

### Week 4: 実践リファクタリング & 総仕上げ
**目標**：汚いコードを「美しいパターン」に当てはめて修正する。

- **Day 1-3: 過去コードの供養**
    - 過去に自分が書いて「読みにくい」と言われたコードを引っ張り出す。
    - Week 1, 2の知識を使って書き直してみる。
    - AIに「もっと良くして」と投げて、自分の修正と比較する。
- **Day 4-5: 最終タイムアタック**
    - Week 1と同じCRUDアプリをもう一度作る。
    - **目標タイム**: 30分以内。
    - これができれば、もう「実装が遅い」とは言わせません。

## 4. マインドセットの転換
- **「完璧」を目指さない**: まずは汚くてもいいから「動くもの」を最速で作る。その後で直す（Make it work, make it right, make it fast）。
- **15分悩んだら聞く**: 15分考えて手が動かないなら、知識が足りていません。すぐにリーダーやAIに聞いてください。

このプランで、まずは「実装タスクを予定通りに終わらせる」自信を取り戻しましょう。
